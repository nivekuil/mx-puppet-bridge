{"version":3,"file":"presencehandler.js","sourceRoot":"","sources":["../../src/presencehandler.ts"],"names":[],"mappings":"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"}